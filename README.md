send and receive is working well
code 2  not tested
